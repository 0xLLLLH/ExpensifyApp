diff --git a/node_modules/focus-trap/dist/focus-trap.esm.js b/node_modules/focus-trap/dist/focus-trap.esm.js
index 10d56db..17c4375 100644
--- a/node_modules/focus-trap/dist/focus-trap.esm.js
+++ b/node_modules/focus-trap/dist/focus-trap.esm.js
@@ -100,8 +100,8 @@ var isKeyForward = function isKeyForward(e) {
 var isKeyBackward = function isKeyBackward(e) {
   return isTabEvent(e) && e.shiftKey;
 };
-var delay = function delay(fn) {
-  return setTimeout(fn, 0);
+var delay = function delay(fn, delayTime = 0) {
+  return setTimeout(fn, delayTime);
 };
 
 // Array.find/findIndex() are not supported on IE; this replicates enough
@@ -283,7 +283,8 @@ var createFocusTrap = function createFocusTrap(elements, userOptions) {
     return node;
   };
   var getInitialFocusNode = function getInitialFocusNode() {
-    var node = getNodeForOption('initialFocus');
+    console.log(`############ GetInitialFocusNode:${config.testID} ############`, state.containers);
+    var node = getNodeForOption('initialFocus', state.containers);
 
     // false explicitly indicates we want no initialFocus at all
     if (node === false) {
@@ -440,7 +441,8 @@ var createFocusTrap = function createFocusTrap(elements, userOptions) {
     }
   };
   var getReturnFocusNode = function getReturnFocusNode(previousActiveElement) {
-    var node = getNodeForOption('setReturnFocus', previousActiveElement);
+    console.log(`############ GetReturnFocusNode:${config.testID} ############`, state.containers);
+    var node = getNodeForOption('setReturnFocus', previousActiveElement, state.containers);
     return node ? node : node === false ? false : previousActiveElement;
   };
 
@@ -556,6 +558,7 @@ var createFocusTrap = function createFocusTrap(elements, userOptions) {
     }
     if (valueOrHandler(config.clickOutsideDeactivates, e)) {
       // immediately deactivate the trap
+      console.log(`############ CheckPointerDown: ${config.testID} ############`);
       trap.deactivate({
         // NOTE: by setting `returnFocus: false`, deactivate() will do nothing,
         //  which will result in the outside click setting focus to the node
@@ -585,6 +588,7 @@ var createFocusTrap = function createFocusTrap(elements, userOptions) {
   //  scrolling if the node that got focused was out of view; there's nothing we can do to
   //  prevent that from happening by the time we discover that focus escaped
   var checkFocusIn = function checkFocusIn(event) {
+    console.log(`############ CheckFocusIn: ${config.testID} ############`);
     var target = getActualTarget(event);
     var targetContained = findContainerIndex(target, event) >= 0;
 
@@ -690,6 +694,7 @@ var createFocusTrap = function createFocusTrap(elements, userOptions) {
       event: event,
       isBackward: isBackward
     });
+    console.log(`############ CheckKeyNav: ${config.testID} ############`, destinationNode);
     if (destinationNode) {
       if (isTabEvent(event)) {
         // since tab natively moves focus, we wouldn't have a destination node unless we
@@ -706,6 +711,7 @@ var createFocusTrap = function createFocusTrap(elements, userOptions) {
   var checkKey = function checkKey(event) {
     if (isEscapeEvent(event) && valueOrHandler(config.escapeDeactivates, event) !== false) {
       event.preventDefault();
+      console.log(`############ CheckKey: ${config.testID} ############`);
       trap.deactivate();
       return;
     }
@@ -744,7 +750,7 @@ var createFocusTrap = function createFocusTrap(elements, userOptions) {
     // that caused the focus trap activation.
     state.delayInitialFocusTimer = config.delayInitialFocus ? delay(function () {
       tryFocus(getInitialFocusNode());
-    }) : tryFocus(getInitialFocusNode());
+    }, typeof config.delayInitialFocus === 'number' ? config.delayInitialFocus : undefined) : tryFocus(getInitialFocusNode());
     doc.addEventListener('focusin', checkFocusIn, true);
     doc.addEventListener('mousedown', checkPointerDown, {
       capture: true,
@@ -854,6 +860,7 @@ var createFocusTrap = function createFocusTrap(elements, userOptions) {
       return this;
     },
     deactivate: function deactivate(deactivateOptions) {
+      console.log(`############ Deactivate: ${config.testID} ############`);
       if (!state.active) {
         return this;
       }
@@ -875,12 +882,13 @@ var createFocusTrap = function createFocusTrap(elements, userOptions) {
       var returnFocus = getOption(options, 'returnFocus', 'returnFocusOnDeactivate');
       onDeactivate === null || onDeactivate === void 0 || onDeactivate();
       var finishDeactivation = function finishDeactivation() {
+        console.log(`############ FinishDeactivation:${config.testID} ############`, { returnFocus })
         delay(function () {
           if (returnFocus) {
             tryFocus(getReturnFocusNode(state.nodeFocusedBeforeActivation));
           }
           onPostDeactivate === null || onPostDeactivate === void 0 || onPostDeactivate();
-        });
+        }, typeof config.delayInitialFocus === 'number' ? config.delayInitialFocus : undefined);
       };
       if (returnFocus && checkCanReturnFocus) {
         checkCanReturnFocus(getReturnFocusNode(state.nodeFocusedBeforeActivation)).then(finishDeactivation, finishDeactivation);
diff --git a/node_modules/focus-trap/index.d.ts b/node_modules/focus-trap/index.d.ts
index 400db1b..b49618c 100644
--- a/node_modules/focus-trap/index.d.ts
+++ b/node_modules/focus-trap/index.d.ts
@@ -16,7 +16,7 @@ declare module 'focus-trap' {
    * `document.querySelector()` to find the DOM node), `false` to explicitly indicate
    * an opt-out, or a function that returns a DOM node or `false`.
    */
-  export type FocusTargetOrFalse = FocusTargetValueOrFalse | (() => FocusTargetValueOrFalse);
+  export type FocusTargetOrFalse = FocusTargetValueOrFalse | ((containers?: HTMLElement[]) => FocusTargetValueOrFalse | undefined);
 
   type MouseEventToBoolean = (event: MouseEvent | TouchEvent) => boolean;
   type KeyboardEventToBoolean = (event: KeyboardEvent) => boolean;
@@ -147,7 +147,8 @@ declare module 'focus-trap' {
     setReturnFocus?:
       | FocusTargetValueOrFalse
       | ((
-          nodeFocusedBeforeActivation: HTMLElement | SVGElement
+          nodeFocusedBeforeActivation: HTMLElement | SVGElement,
+          containers: Array<HTMLElement>
         ) => FocusTargetValueOrFalse);
     /**
      * Default: `true`. If `false` or returns `false`, the `Escape` key will not trigger
@@ -185,7 +186,7 @@ declare module 'focus-trap' {
      * This prevents elements within the focusable element from capturing
      * the event that triggered the focus trap activation.
      */
-    delayInitialFocus?: boolean;
+    delayInitialFocus?: boolean | number;
     /**
      * Default: `window.document`. Document where the focus trap will be active.
      * This allows to use FocusTrap in an iFrame context.
@@ -222,6 +223,8 @@ declare module 'focus-trap' {
      * keyboard navigation within the trap, for example. Also see `isKeyForward()` option.
      */
     isKeyBackward?: KeyboardEventToBoolean;
+
+    testID?: string;
   }
 
   type ActivateOptions = Pick<Options, 'onActivate' | 'onPostActivate' | 'checkCanFocusTrap'>;
diff --git a/node_modules/focus-trap/index.js b/node_modules/focus-trap/index.js
index de8e46a..7ab9d89 100644
--- a/node_modules/focus-trap/index.js
+++ b/node_modules/focus-trap/index.js
@@ -63,8 +63,8 @@ const isKeyBackward = function (e) {
   return isTabEvent(e) && e.shiftKey;
 };
 
-const delay = function (fn) {
-  return setTimeout(fn, 0);
+const delay = function (fn, delayTime = 0) {
+  return setTimeout(fn, delayTime);
 };
 
 // Array.find/findIndex() are not supported on IE; this replicates enough
@@ -267,7 +267,7 @@ const createFocusTrap = function (elements, userOptions) {
   };
 
   const getInitialFocusNode = function () {
-    let node = getNodeForOption('initialFocus');
+    let node = getNodeForOption('initialFocus', state.containers);
 
     // false explicitly indicates we want no initialFocus at all
     if (node === false) {
@@ -817,7 +817,7 @@ const createFocusTrap = function (elements, userOptions) {
     state.delayInitialFocusTimer = config.delayInitialFocus
       ? delay(function () {
           tryFocus(getInitialFocusNode());
-        })
+        }, typeof config.delayInitialFocus === 'number' ? config.delayInitialFocus : undefined)
       : tryFocus(getInitialFocusNode());
 
     doc.addEventListener('focusin', checkFocusIn, true);
